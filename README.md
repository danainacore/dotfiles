# dotfiles

## インストール方法

1. ホームディレクトリに移動
    ```
    $ cd
    ```
    
1. Git がインストールされているか確認
    ```
    $ git --version
    ```
    
1. されてなければ `yum` とか `apt` で Git をインストール

1. 本リポジトリをクローン
    ```
    $ git clone https://github.com/igg-g/dotfiles.git
    ````

1. dotfiles ディレクトリへ移動
    ```
    $ cd dotfiles
    ```

1. シンボリックリンク作成用のシェルスクリプトを実行
    ```
    $ ./install.sh
    ```

1. ログインし直すなどして dotfiles を読み込ませる

## サブモジュール（Vim のプラグインなど）の追加・更新・削除

### 追加
1. サブモジュールを追加したいディレクトリへ移動
    ```
    $ cd ディレクトリのパス
    ```

1. サブモジュールを追加
    ```
    $ git submodule add https://github.com/ほげ/ふが
    ```

1. コミット
    ```
    $ git commit -m "サブモジュールふがを追加"
    ```

### 更新
1. すべてのサブモジュールを、サブモジュールの中のサブモジュールをも含めて更新
    ```
    $ git submodule update --recursive
    ```
1. コミット
    ```
    $ git commit -m "サブモジュールを更新"

### 削除
1. `.git/config` 内の該当箇所と*ワークツリーのサブモジュールの中身を削除*
    ```
    $ git submodule deinit ほげ/ふが
    ```
    *ワークツリーのサブモジュールの中身を削除* : `rm -r ほげ/ふが/*`

1. リポジトリ（`.git`） 内の記録も削除
    ```
    $ rm -rf .git/modules/ほげ/ふが
    ```
    これをしないとサブモジュールを再追加するときにエラーになるらしい

1. 手順1 で空になった、ワークツリーのサブモジュールを削除 & ステージング
    ```
    $ git rm ほげ/ふが
    ```

1. コミット
    ```
    $ git commit -m "サブモジュールほげを削除"
    ```